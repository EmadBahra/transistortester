\chapter{Инструкция пользователя}
\label{sec:manual}
\section{Проведение измерений }
Использовать Тестер просто, но требуются некоторые пояснения. В большинстве случаев провода с «крокодилами» 
подключаются к испытательным портам разъемами. Также могут быть подключены гнезда для транзисторов. В любом случае 
Вы можете подключаться тремя выводами к трем испытательным портам в любой последовательности. Если у элемента есть 
только два вывода, Вы можете подключиться к любым двум испытательным портам. Обычно полярность элемента не важна, 
Вы можете подключать выводы электролитических конденсаторов в любом порядке. Обычно минусовой вывод подключается к 
испытательному порту с более низким номером. Полярность  непринципиальна, потому что измерительное напряжение 
находится между \(0.3~V\) и \(1.3~V\). После подключения элемента, Вы не должны касаться его во время измерения. 
Если он не вставляется в гнездо, то Вы должны прижать его через непроводящую прокладку. Вы не должны также 
прикасаться к изоляции проводов, связанных с испытательными портами - результаты измерения могут быть искажены. 
После вывода на дисплей сообщения «Testing...», результат измерения должен появиться, примерно, после двух секунд. 
При  измерении ёмкости конденсатора время окончания  может увеличиваться пропорционально ёмкости.\\ 

Продолжительность измерения Тестера, зависит от конфигурации программного обеспечения.

\begin{description}
  \item[Режим однократного измерения.] Если Тестер сконфигурирован для однократного измерения (POWER\_OFF 
параметр установлен), то он отключается автоматически, после отображения результата в течение 28 секунд. Следующее 
измерение можно начать в течение времени отображения или после отключения, вновь нажав кнопку {\bf TEST}. 
Следующее измерение может быть сделано с тем же самым или другим элементом. Если Вы не установили электронные 
элементы для автоотключения, то последний результат измерения будет отображаться, пока Вы не начнете следующее 
измерение или не выключите питание (необходим внешний выключатель).

  \item[Режим бесконечных измерений.] Этот режим является конфигурацией без автоотключения.
Обычно эта конфигурация использунтся, если не установлен транзистор автоотключения. В этом случае, параметр POWER\_OFF 
отключается в Makefil.  
Для этого режима необходим внешний выключатель. Тестер будет повторять измерения, пока питание не будет отключено.

  \item[Режим многократных измерений.] В этом режиме Тестер отключится не после одного измерения, а после заданного 
числа измерений.
В этом случае параметру POWER\_OFF присваивается числовое значение, например 5.
В стандартном режиме Тестер отключится после 5 измерений без определения элемента. Если какой-либо 
элемент определен тестом, Тестер отключится после 10 измерений. Первое измерение с неизвестным элементом после серии 
измерений известных элементов обнулит результаты известного измерения. Также первое измерение известного элемента 
обнулит результат неизвестных измерений. Если элементы подключаются периодически, то этот алгоритм может привести к 
почти бесконечной последовательности измерений без нажатия кнопки {\bf TEST} в начале. В этом режиме есть характерная 
особенность длительности отображения. Если для того, чтобы включить Тестер, кнопка {\bf TEST} нажата коротко, 
то результат измерения отображается в течение 5 секунд. Если Вы нажимаете и держите кнопку {\bf TEST} до первого 
сообщения, то дальнейшие результаты измерения отображаются в течение 28 секунд. Следующее измерение можно начать 
ранее, если нажать кнопку {\bf TEST} во время отображения результата.

\end{description}

\section{Меню дополнительных функций для ATmega328}
Если меню дополнительных функций доступно, то оно будет отображено после продолжительного (>~\(500~ms\)) нажатия 
на кнопку {\bf TEST}.
Выбираемые функции отображаются во второй строке дисплея. 
С установленным параметром POWER\_OFF, через 5 секунд, происходит автоматическое переключение на следующий пункт меню. 
При коротком нажатии на кнопку {\bf TEST}, переход к следующему пункту меню происходит быстрее. При длительном 
нажатии кнопки {\bf TEST} выбирается отображаемая функция меню.
После индикации последнего пункта меню «switch off» происходит переход на первый пункт меню.\\

Дополнительная функция «Frequency» (частотомер) использует порт PD4 ATmega, который также подключен к LCD-дисплею. 
Сначала измеряется частота. Если частота ниже \(25~kHz\), то дополнительно измеряется период входного сигнала, 
и значение этой частоты может быть вычислено с точностью до \(0.001~Hz\).
Если параметр POWER\_OFF установлен в Makefile, то продолжительность измерения частоты ограничена до 8~минут. 
Измерение частоты может быть закончено нажатием кнопки {\bf TEST} и Тестер перейдет в меню функций.\\

Дополнительная функция «Voltage» (вольтметр) доступна, только если отключена функции последовательного порта 
или используется ATmega с не менее чем 32 выводами (PLCC) и один из дополнительных портов ADC6 или ADC7 используется 
для измерения. 
Так как к порту PC3 (или ADC6/7) ATmega подключен делитель 10:1, то максимальное внешнее напряжение может быть не более \(50~V\).
Установленный DC-DC преобразователь для теста стабилитронов может быть включен при нажатии кнопки {\bf TEST}.
Таким образом, стабилитроны тоже могут быть измерены.
При установленном параметре POWER\_OFF в Makefile и без нажатия кнопки {\bf TEST} продолжительность измерения ограничена до 4~минут. 
Измерение может быть закончено также нажатием кнопки {\bf TEST}.\\ 

Если выбрана функция «f-Generator» (генератор частоты), то коротким нажатием кнопки {\bf TEST} можно выбрать 
генерируемую частоту из числа предлагаемых.
После выбора последней предлагаемой частоты, устанавливается первая частота (циклический выбор).
Если параметр POWER\_OFF установлен в Makefile, кнопка {\bf TEST} должна удерживаться дольше, так как 
короткое нажатие (<~0.2~s) сбросит только лимит 4~минут.
При кратковременном нажатии кнопки {\bf TEST} Вы увеличите время непрерывной работы генератора.
При длительном нажатии кнопки {\bf TEST} (>~0.8~s) генератор отключается, а Тестер возвращается в меню функций.\\

Дополнительная функция «10-bit PWM» (10-bit ШИМ) генерирует фиксированную частоту с возможностью 
регулировки ширины импульса на тестовом контакте TP2.
При кратковременном нажатии кнопки {\bf TEST} (<~0,5~s) ширина импульса увеличивается на \(1 \%\), с более длинным нажатием 
кнопки {\bf TEST} импульс увеличивается на \(10 \%\). 
Если значение превысило \(99 \%\), то \(100 \%\) вычитается из результата.
При установленном параметре POWER\_OFF в Makefile, генератор завершит работу после 8~минут без нажатия кнопки {\bf TEST}.
Завершить работу генератора можно так же очень длинным (>~1.3~s) нажатием кнопки {\bf TEST}.\\

Дополнительной функцией «C+ESR@TP1:3» можно выбрать отдельное измерение ёмкости и 
ESR конденсаторов с помощью тестовых контактов TP1 и TP3.
Конденсаторы от \(2~\mu F\) до \(50~mF\) могут быть измерены. 
Поскольку напряжение измерения составляет лишь около \(300~mV\), в большинстве случаев конденсатор может быть 
измерен непосредственно в схеме без предварительного демонтажа.
При установленном параметре POWER\_OFF в Makefile, количество измерений ограничено 
до 250, но может быть начато немедленно снова.
Серия измерений может быть завершена при длительном нажатии кнопки {\bf TEST}.\\  

Дополнительная функция «Switch off» позволяет выключить Тестер немедленно.\\ 

Конечно, Вы также можете выбрать функцию «Transistor» (тестер транзисторов), чтобы вернутся к нормальному режиму измерений Тестера.
При установленном параметре POWER\_OFF в Makefile, все дополнительные функции ограничены во времени, чтобы предотвратить разряд батареи.


\section{Самопроверка и калибровка}

Если программное обеспечение конфигурируется с помощью функции самопроверки, то самопроверка может быть подготовлена 
при соединении всех трёх испытательных портов вместе и нажатии кнопки {\bf TEST}. Чтобы начать самопроверку 
необходимо в течение 2-х секунд повторно нажать кнопку {\bf TEST}, иначе Тестер продолжит нормальные 
измерения.\\

Если самопроверка запущена, то будут проведены все тесты самопроверки, представленные в главе \ref{sec:selftest} 
Повторения тестов самопроверки можно избежать, если нажать и удерживать кнопку {\bf TEST}. Таким образом, Вы можете 
пропустить не интересующие Вас тесты самопроверки, и можете наблюдать интересующие Вас тесты самопроверки, отпуская 
кнопку {\bf TEST}. Тест 4 закончится автоматически, если Вы разъедините все три испытательных порта (удалите «закоротку»).\\

Если в Makefile выбрана функция AUTO\_CAL, в режиме самопроверки будет откалибровано смещение нуля для измерения 
ёмкости. Для задачи калибровки важно, что бы «закоротка» между тремя испытательными портами была удалена во время 
теста 4. Во время калибровки (после теста 6), Вы не должны прикасаться ни к одному из испытательных портов или 
подключенных кабелей. Шупы должны быть теми же самыми, которые будут использоваться для дальнейших измерений. 
Иначе смещение нуля для измерения ёмкости не будет правильно скомпенсировано. Величина внутреннего сопротивления 
порта определяется в начале каждого измерения с этой опцией.\\
 
Для последней задачи калибровки требуется высококачественный конденсатор с любым значением между \(100~nF\) 
и \(20~\mu F\) подсоединённый к испытательным выводам ~1 и~3, сопровождаемый текстом «\textgreater \(100~nF\)».
После этого сообщения Вы должны подсоединить конденсатор. С помощью этого конденсатора, будет скомпенсировано 
напряжение смещения аналогового компаратора, для более точного измерения ёмкости. Дополнительный выигрыш для 
измерений АЦП при использовании  внутреннего ИОН, с тем же самым конденсатором, примените опцию AUTOSCALE\_ADC 
для получения лучших результатов измерения резисторов. 
Смещение нуля для измерения ESR будет задано выбором опции ESR\_ZERO в Makefile. Нулевые значения ESR для всех 
трёх комбинациях выводов определяются при каждой самопроверке. Этот метод измерения ESR используется также при 
измерении величин резисторов ниже \(10~\Omega\) с разрешением \(0.01~\Omega\).


\section{Специальные возможности использования}
При включении Тестер показывает напряжение батареи питания. Если напряжение ниже предела, то после напряжения 
батареи отображается предупреждение. Если Вы используете \(9~V\) аккумулятор, то его необходимо как можно скорее 
заменить или перезарядить. Если Вы используете Тестер с \(2.5~V\) ИОН, то во второй строке в течение 1 секунды будет 
отображено напряжение питания в виде «VCC=x.xxV».\\

Конденсаторы должны быть разряжены перед каждым измерением. Иначе Тестер может быть повреждён еще до того, как 
будет нажата кнопка {\bf TEST}. При измерении элементов без демонтажа, оборудование должно быть полностью 
отключенным от источника питания. Кроме того, Вы должны быть уверены, что остаточное напряжение в оборудовании 
отсутствует. У каждого электронного оборудования внутри есть конденсаторы!\\

При попытке измерить малые величины резисторов, Вы должны учитывать сопротивление разъёмов и кабелей. Очень важно 
качество и состояние разъёмов, а также, сопротивление кабелей, используемых для измерения. То же самое надо учитывать 
при измерении ESR конденсаторов. При использовании тонкого кабеля величина ESR \(0.02~\Omega\) может вырасти 
до \(0.61~\Omega\).\\

Не стоит ожидать от Тестера высокой точности результатов, особенно при измерении ESR и индуктивности. Вы можете 
ознакомиться с результатами моей серии испытаний в главе \ref{sec:measurement}.

\section{Проблемы при определении элементов}
Вы должны иметь в виду, интерпретируя результаты измерения, что схема Тестера разработана для слаботочных 
полупроводников. В нормальных условиях измерения измерительный ток может достигнуть приблизительно \(6~mA\). 
Мощные полупроводники часто имеют трудности с идентификацией и измерением величины ёмкости перехода из-за тока 
утечки. Тестер так же не может выдать достаточно тока для открывания или удержания  мощных тиристоров или симисторов. 
Таким образом, тиристор может быть определен как N-P-N транзистор или диод. Также возможно, что тиристор или симистор 
определятся как неизвестный элемент.\\

Другая проблема - идентификация полупроводников со встроенными резисторами. Например, диод база-эмиттер транзистора 
BU508D не может быть определен из-за параллельно подсоединённого внутреннего  резистора на \(42~\Omega\).
Поэтому параметры транзистора также не могут быть измерены. Также есть проблема с обнаружением мощных транзисторов  
Дарлингтона. Часто встречаются внутренние резисторы база - эмиттер, которые усложняют идентификацию элемента при 
малом измерительном токе.

\section{Измерение транзисторов N-P-N и P-N-P}
Для нормального измерения три вывода транзистора подключаются в любой последовательности к испытательным входам 
Тестера. После нажатия на кнопку {\bf TEST} Тестер показывает в первой строке тип (N-P-N или P-N-P), возможный 
встроенный защитный диод коллектор-эмиттер и последовательность выводов. Диодный символ показывается в правильной 
полярности. 
Вторая строка показывает коэффициент усиления (\(\beta\) =...) и пороговое напряжение база-эмиттер. Вы должны знать, 
что Тестер может измерить \(\beta\) по двум различным схемам, с общим эмиттером и общим  коллектором (эмиттерный 
повторитель). На дисплее отображается только более высокий результат.\\

В схеме с общим эмиттером у Тестера есть только два варианта, чтобы задать базовый ток:
\begin{enumerate}
\item Резистор на \(680~\Omega\) ограничивает базовый ток приблизительно величиной \(6.1~mA\). Этот ток слишком 
велик для маломощных транзисторов с большим значением \(\beta\), потому что база насыщается. Поскольку ток коллектора 
также измеряется через резистор \(680~\Omega\) то ток коллектора не может достигнуть  величины, определяемой большим 
значением \(\beta\). Версия программного обеспечения от Markus F. измеряет пороговое напряжение база-эмиттер по этой 
схеме  (Uf=...).\\
\item Резистор на \(470~k\Omega\) ограничивает базовый ток величиной \(9.2~\mu A\).
Версия программного обеспечения от Markus F. вычисляет \(\beta\) по этой схеме (hFE =...).\\
\end{enumerate}

Программное обеспечение Тестера измеряет величину \(\beta\) дополнительно по схеме с общим коллектором. На дисплей 
выводится наибольшее значение из обоих методов измерений. Схема с общим коллектором имеет преимущество, т. к. базовый 
ток уменьшен отрицательной обратной связью, соответствующей величине \(\beta\). В большинстве случаев, более точный 
результат измерения, может быть достигнут этим методом для мощных транзисторов с резистором на \(680~\Omega\) и для 
транзисторов Дарлингтона с резистором на \(470~k\Omega\).
Пороговое напряжение  база-эмиттер Uf  теперь измеряется при том же самом токе, что и для определения 
величины \(\beta\). Однако, если Вы хотите узнать пороговое напряжение база-эмиттер с током измерения приблизительно 
\(6~mA\), то Вы должны отключить коллектор и сделать новое измерение. При этом подключении на дисплей выводится 
пороговое напряжение база-эмиттер при токе \(6~mA\).  Так же на дисплей выводится ёмкость в обратном включении перехода 
(диода). Конечно, Вы таким же образом можете проанализировать переход (диод) база-коллектор.\\

В германиевых транзисторах измеряется обратный ток коллектора при разомкнутой базе \(I_{CE0}\) и
обратный ток коллектора при короткозамкнутых выводах базы и эмиттера \(I_{CES}\). Обратный ток коллектора 
отображается во второй строке индикатора перед отображением \(\beta\) в течение 5 секунд или до следующего нажатия 
на кнопку {\bf TEST} (только для ATmega328).\\

При охлаждении германиевого транзистора обратный ток может уменьшиться.

\section{Измерение JFET и транзисторов D-MOS}
Поскольку структура типа JFET симметрична, исток и сток этого транзистора не могут быть определены. Обычно один из 
параметров этого транзистора - ток транзистора с затвором, на том же самом уровне напряжения, как и исток (затвор 
соединен с истоком). Этот ток часто выше, чем ток, который может быть достигнут в схеме измерения с резистором 
на \(680~\Omega\). По этой причине резистор на \(680~\Omega\) подключен к истоку. Таким образом, с ростом тока  
истока на затворе получают отрицательное напряжение смещения. Тестер показывает ток истока в этой схеме и, 
дополнительно, напряжение смещения затвора. Таким образом, могут быть выделены различные модели. Транзисторы 
D-MOS (обеднённый) измеряются тем же методом. 
Вы должны знать, что для обогащенных MOS транзисторов (P-E-MOS или N-E-MOS) с малой величиной ёмкости затвора, 
измерение порогового напряжения затвора (\(V_{th}\)) является более сложным.\\ 

Вы можете получить более точную величину этого напряжения, если подсоедините конденсатор величиной в несколько 
\(nF\), параллельного переходу затвор-исток. Пороговое напряжение затвора будет измерено при токе приблизительно 
\(3.5~mA\) для P-E-MOS и  \(4~mA\) для N-E-MOS.
